"use strict";function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}require(["/assets/js/config.js","/assets/js/common.js"],function(){require(["jquery","/assets/js/getarg.js","webuploader","jcrop"],function(e,t,o){function s(){var t,o=(t={aspectRatio:1.618,allowSelect:!0,baseClass:"jcrop",boxWidth:300},_defineProperty(t,"aspectRatio",1.618),_defineProperty(t,"onSelect",function(e){i=e,console.log(i)}),t);e(".preview img").Jcrop(o,function(){this.setSelect([0,20,100,400])})}var i={};o.create({auto:!0,swf:"/node_modules/webuploader/dist/Uploader.swf",server:"/api/uploader/cover",pick:"#filePicker",formData:{cs_id:t.cs_id},fileVal:"cs_cover_original",accept:{title:"Images",extensions:"gif,jpg,jpeg,bmp,png"}}).on("uploadSuccess",function(t,o){e(".preview img").attr("src",o.result.path).on("load",function(){s()})}),e("#shortImg").on("click",function(){i.cs_id=t.cs_id,e.ajax({type:"post",url:"/api/course/update/picture",data:i,success:function(e){200==e.code&&(location.href="./step3.html?cs_id="+t.cs_id)}})})})});