"use strict";require(["/assets/js/config.js"],function(){require(["jquery","template","bootstrap","/assets/js/common.js"],function(t,s){function e(t){var s=new Date(t).getFullYear();return(new Date).getFullYear()-s}t.ajax({type:"get",url:"/api/teacher",success:function(e){if(200==e.code){var a=s("tmpl-list",{list:e.result});t("#list").html(a)}}}),e(),t("#list").on("click",".preview",function(){var e=t(this).closest("tr").attr("tc-id");t.ajax({type:"get",data:{tc_id:e},url:"/api/teacher/view",success:function(e){if(console.log(e.result),200==e.code){var a=s("detail-list",{item:e.result});t("#modal-list").html(a)}}})}),t("#list").on("click",".start-stop",function(){var s=t(this),e=s.closest("tr"),a=e.attr("tc-id"),c=e.attr("tc-status");t.ajax({type:"post",url:"/api/teacher/handle",data:{tc_id:a,tc_status:c},success:function(t){var a=0===t.result.tc_status?"注销":"启用";e.attr("tc-status",t.result.tc_status),s.text(a)}})}),s.defaults.imports.getTecAge=e})});