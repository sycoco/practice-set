<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>demo</title>
</head>
<body ng-app="app">

<a ui-sref="index1" ui-sref-opts="{reload: true}">产品a</a>
<a ui-sref="index2" ui-sref-opts="{reload: true}">产品b</a>

<ui-view></ui-view>

<script src="../../node_modules/angular/angular.js"></script>
<script src="../../node_modules/angular-ui-router/release/angular-ui-router.js"></script>
<script src="../../node_modules/oclazyload/dist/ocLazyLoad.js"></script>
<script src="../ui-router-require-polyfill.js"></script>

<script>

	angular
			.module('app', ['ui.router', 'ui.router.requirePolyfill'])
			.config(Configuration);

	Configuration.$inject = ['$stateProvider', '$urlRouterProvider', '$httpProvider'];
	function Configuration($stateProvider, $urlRouterProvider, $httpProvider) {

		$urlRouterProvider.otherwise("/");
//		$urlRouterProvider.when('/index1', )

		$httpProvider.interceptors.push(function () {

			return {
				request: function (configs) {
					console.log('entry interceptor');
					return configs;
				}
			}

		});

		$stateProvider

				.state('home', {
					url: '/',
					templateUrl: 'partials/home.html'
				})

				.state('index1', {
					url: '/index1',
					templateUrl: 'partials/index1.html',
					controller: function ($state) {
						$state.go('.entry');
					}
				})

				.state('index2', {
					url: '/index2',
					templateUrl: 'partials/index2.html'
				});

	}

</script>
</body>
</html>