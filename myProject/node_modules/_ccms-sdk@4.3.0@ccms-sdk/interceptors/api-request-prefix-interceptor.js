'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.setApiRequestPrefix = setApiRequestPrefix;
/**
 * @author Kuitos
 * @homepage https://github.com/kuitos/
 * @since 2016-10-12
 */

var NON_STATIC_FILE = /^(?!.*\.\w*(\?.*)?$).+$/;
var isDynamicRequest = function isDynamicRequest(url) {
	return NON_STATIC_FILE.test(url);
};
var isLocalRequest = function isLocalRequest(url) {
	return !/^(http|https):\/\//.test(url);
};

var apiRequestPrefix = '';
function setApiRequestPrefix(prefix) {
	apiRequestPrefix = prefix;
}

exports.default = {
	request: function request(config) {

		var url = config.url;
		if (isLocalRequest(url) && isDynamicRequest(url)) {
			config.url = apiRequestPrefix + url;
		}

		return config;
	}
};